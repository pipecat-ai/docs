---
title: deploy
description: "Create or modify an agent deployment"
---

The `deploy` command creates a new agent deployment or updates an existing one. It builds a deployment manifest with the provided parameters and monitors the deployment status until the agent is ready.

If the agent name already exists, you'll be prompted to confirm the update unless the `--force` flag is used.

This command will wait for the active deployment / revision to enter a ready state before returning. If the deployment fails, the command will exit with an [error](../fundamentals/error-codes) with more information.

## Usage

```shell
pcc deploy [ARGS] [OPTIONS]
```

**Arguments:**

<ParamField path="agent-name" type="string" required>
  Unique string identifier for the agent deployment. Must not contain spaces.
</ParamField>

<ParamField path="image" type="string" required>
  URL of the Docker image to deploy. Must be a valid Docker image URL. For
  example: `docker.io/my-repo/my-image:latest`.
</ParamField>

**Options:**

<ParamField path="--credentials / -c" type="string">
  Name of the image pull secret to use for accessing private repositories. The
  secret must be previously created using the `pcc secrets image-pull-secret`
  command.
</ParamField>

<ParamField path="--organization / -o" type="string">
  Organization to deploy the agent to. If not provided, uses the current
  organization from your configuration.
</ParamField>

<ParamField path="--secrets / -s" type="string">
  Name of the secret set to use for the deployment. The secret set must exist in
  the specified organization.
</ParamField>

<ParamField path="--min-agents / -min" type="number" default="0">
  Minimum number of agent instances to keep warm at all times. Default is 0,
  which means the agent will scale down to zero when not in use. Setting this to
  1 or higher avoids cold starts.
</ParamField>

<ParamField path="--max-agents / -max" type="number" default="50">
  Maximum number of allowed agent instances. Must be between 1 and 50. If you
  need more agents, please contact us at help@daily.co or via
  [Discord](https://discord.gg/dailyco).
</ParamField>

<ParamField path="--enable-krisp / -krisp" type="boolean" default="false">
  Enable Krisp noise cancellation for this deployed agent. In addition, you also
  need to enable the `KrispFilter()` for your transport. See the [Krisp Noise
  Cancellation](../guides/krisp-noise-cancellation) guide for more information.
</ParamField>

<ParamField path="--force / -f" type="boolean" default="false">
  Force deployment and skip confirmation prompts. Use with caution.
</ParamField>

## Examples

**Deploy a new agent:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.1
```

**Update an existing agent with a new image:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.2
```

**Deploy with a specific secret set:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.1 --secrets my-secret-set
```

**Deploy a private image using image pull credentials:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.1 --credentials dockerhub-creds
```

**Keep one instance always warm to avoid cold starts:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.1 --min-agents 1
```

**Limit the maximum number of agent instances:**

```shell
pcc deploy my-first-agent your-docker-repository/my-first-agent:0.1 --max-agents 5
```

## Configuration TOML

The deploy command will look for any values declared in an adjacent `pcc-deploy.toml` file (documented [here](../fundamentals/deploy#using-pcc-deploy-toml)).

Values are applied with the following order of precedence:

1. CLI arguments
2. `pcc-deploy.toml` values
3. Default values

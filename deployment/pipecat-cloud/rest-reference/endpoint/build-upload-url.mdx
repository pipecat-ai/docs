---
title: "Get Upload URL"
description: "Get a pre-signed URL to upload your Docker build context"
openapi: "POST /builds/upload-url"
---

## Uploading Your Context

After receiving the upload URL and fields, upload your context archive using a multipart form POST request:

```bash
# Get the upload URL
RESPONSE=$(curl -s -X POST "https://api.pipecat.daily.co/v1/builds/upload-url" \
  -H "Authorization: Bearer $PIPECAT_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contentLength": 10485760,
    "region": "us-west"
  }')

# Extract fields from response
UPLOAD_URL=$(echo $RESPONSE | jq -r '.uploadUrl')
UPLOAD_ID=$(echo $RESPONSE | jq -r '.uploadId')
KEY=$(echo $RESPONSE | jq -r '.uploadFields.key')

# Upload the context archive (must be gzipped tar)
curl -X POST "$UPLOAD_URL" \
  -F "key=$KEY" \
  -F "Content-Type=application/gzip" \
  -F "policy=$(echo $RESPONSE | jq -r '.uploadFields.policy')" \
  -F "x-amz-signature=$(echo $RESPONSE | jq -r '.uploadFields[\"x-amz-signature\"]')" \
  -F "x-amz-credential=$(echo $RESPONSE | jq -r '.uploadFields[\"x-amz-credential\"]')" \
  -F "x-amz-algorithm=$(echo $RESPONSE | jq -r '.uploadFields[\"x-amz-algorithm\"]')" \
  -F "x-amz-date=$(echo $RESPONSE | jq -r '.uploadFields[\"x-amz-date\"]')" \
  -F "file=@context.tar.gz"

echo "Upload ID: $UPLOAD_ID"
```

<Note>
The context archive must be a gzipped tar file (`.tar.gz`). The upload URL validates both the content type and file size.
</Note>

## Creating the Context Archive

Your context archive should contain your Dockerfile and all files needed for the build:

```bash
# Create a tar.gz of your project
tar -czvf context.tar.gz \
  --exclude='.git' \
  --exclude='node_modules' \
  --exclude='__pycache__' \
  --exclude='.venv' \
  .
```

<Warning>
The maximum context size is **500MB**. Use a `.dockerignore` file to exclude unnecessary files and keep your context small for faster uploads and builds.
</Warning>

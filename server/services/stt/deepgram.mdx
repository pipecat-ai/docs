---
title: "Deepgram"
description: "Speech-to-text service implementations using Deepgram's real-time transcription and Flux APIs"
---

## Overview

Deepgram provides two STT service implementations:

- `DeepgramSTTService` for real-time speech recognition using Deepgram's standard WebSocket API with support for interim results, language detection, and voice activity detection (VAD)
- `DeepgramFluxSTTService` for advanced conversational AI with Flux capabilities including intelligent turn detection, eager end-of-turn events, and enhanced speech processing for improved response timing.

<Note>
  Since Deepgram Flux provides its own user turn start and end detection, you
  should use `ExternalUserTurnStrategies` to let Flux handle turn management.
  See [User Turn
  Strategies](/server/utilities/turn-management/user-turn-strategies) for
  configuration details.
</Note>

<CardGroup cols={2}>
  <Card
    title="Deepgram STT API Reference"
    icon="code"
    href="https://reference-server.pipecat.ai/en/latest/api/pipecat.services.deepgram.stt.html"
  >
    Pipecat's API methods for standard Deepgram STT
  </Card>
  <Card
    title="Deepgram Flux API Reference"
    icon="code"
    href="https://reference-server.pipecat.ai/en/latest/api/pipecat.services.deepgram.flux.stt.html"
  >
    Pipecat's API methods for Deepgram Flux STT
  </Card>
  <Card
    title="Standard STT Example"
    icon="play"
    href="https://github.com/pipecat-ai/pipecat/blob/main/examples/foundational/07c-interruptible-deepgram.py"
  >
    Complete example with standard Deepgram STT
  </Card>
  <Card
    title="Flux STT Example"
    icon="play"
    href="https://github.com/pipecat-ai/pipecat/blob/main/examples/foundational/07c-interruptible-deepgram-flux.py"
  >
    Complete example with Deepgram Flux STT
  </Card>
  <Card
    title="Deepgram Documentation"
    icon="book"
    href="https://developers.deepgram.com/docs/pre-recorded-audio"
  >
    Official Deepgram documentation and features
  </Card>
  <Card
    title="Deepgram Console"
    icon="microphone"
    href="https://console.deepgram.com/signup"
  >
    Access API keys and transcription models
  </Card>
</CardGroup>

## Installation

To use Deepgram services, install the required dependencies:

```bash
pip install "pipecat-ai[deepgram]"
```

## Prerequisites

### Deepgram Account Setup

Before using Deepgram STT services, you need:

1. **Deepgram Account**: Sign up at [Deepgram Console](https://console.deepgram.com/signup)
2. **API Key**: Generate an API key from your console dashboard
3. **Model Selection**: Choose from available transcription models and features

### Required Environment Variables

- `DEEPGRAM_API_KEY`: Your Deepgram API key for authentication

## Event Handlers

In addition to the standard [service connection events](/server/utilities/service-events) (`on_connected`, `on_disconnected`, `on_connection_error`), Deepgram STT provides:

### DeepgramSTTService

| Event | Description |
| --- | --- |
| `on_speech_started` | Speech detected in the audio stream |
| `on_utterance_end` | End of utterance detected by Deepgram |

```python
@stt.event_handler("on_speech_started")
async def on_speech_started(service):
    print("User started speaking")

@stt.event_handler("on_utterance_end")
async def on_utterance_end(service):
    print("Utterance ended")
```

### DeepgramFluxSTTService

Deepgram Flux provides turn-level events for more granular conversation tracking:

| Event | Description |
| --- | --- |
| `on_start_of_turn` | Start of a new turn detected |
| `on_turn_resumed` | A previously paused turn has resumed |
| `on_end_of_turn` | End of turn detected |
| `on_eager_end_of_turn` | Early end-of-turn prediction |
| `on_update` | Transcript updated |

```python
@stt.event_handler("on_start_of_turn")
async def on_start_of_turn(service, transcript):
    print(f"Turn started: {transcript}")

@stt.event_handler("on_end_of_turn")
async def on_end_of_turn(service, transcript):
    print(f"Turn ended: {transcript}")

@stt.event_handler("on_eager_end_of_turn")
async def on_eager_end_of_turn(service, transcript):
    print(f"Early end-of-turn prediction: {transcript}")
```

Turn events receive `(service, transcript)` where `transcript` is the current transcript text. The `on_turn_resumed` event receives only `(service)`.

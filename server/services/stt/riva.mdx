---
title: "NVIDIA Riva"
description: "Speech-to-text service implementation using NVIDIA Riva"
---

## Overview

NVIDIA Riva provides two STT service implementations: `NvidiaSTTService` for real-time streaming transcription using Parakeet models, and `NvidiaSegmentedSTTService` for segmented transcription using Canary models with advanced language support and enterprise-grade accuracy.

<CardGroup cols={2}>
  <Card
    title="NVIDIA Riva STT API Reference"
    icon="code"
    href="https://reference-server.pipecat.ai/en/latest/api/pipecat.services.riva.stt.html"
  >
    Pipecat's API methods for NVIDIA Riva STT integration
  </Card>
  <Card
    title="Example Implementation"
    icon="play"
    href="https://github.com/pipecat-ai/pipecat/blob/main/examples/foundational/07r-interruptible-riva-nim.py"
  >
    Complete example with NVIDIA services integration
  </Card>
  <Card
    title="NVIDIA Riva Documentation"
    icon="book"
    href="https://docs.nvidia.com/deeplearning/riva/user-guide/docs/asr/asr-overview.html"
  >
    Official NVIDIA Riva ASR documentation
  </Card>
  <Card
    title="NVIDIA Developer Portal"
    icon="microphone"
    href="https://developer.nvidia.com"
  >
    Access API keys and Riva services
  </Card>
</CardGroup>

## Installation

To use NVIDIA Riva services, install the required dependency:

```bash
pip install "pipecat-ai[nvidia]"
```

## Prerequisites

### NVIDIA Riva Setup

Before using NVIDIA Riva STT services, you need:

1. **NVIDIA Developer Account**: Sign up at [NVIDIA Developer Portal](https://developer.nvidia.com)
2. **API Key**: Generate an NVIDIA API key for Riva services
3. **Model Selection**: Choose between Parakeet (streaming) and Canary (segmented) models

### Required Environment Variables

- `NVIDIA_API_KEY`: Your NVIDIA API key for authentication

## Configuration

### NvidiaSTTService

Real-time streaming transcription using NVIDIA Riva's Parakeet models. Supports interim results and continuous audio processing.

<ParamField path="api_key" type="str" required>
  NVIDIA API key for authentication.
</ParamField>

<ParamField path="server" type="str" default="grpc.nvcf.nvidia.com:443">
  NVIDIA Riva server address.
</ParamField>

<ParamField path="model_function_map" type="Mapping[str, str]" default='{"function_id": "1598d209-5e27-4d3c-8079-4751568b1081", "model_name": "parakeet-ctc-1.1b-asr"}'>
  Mapping containing `function_id` and `model_name` for the ASR model.
</ParamField>

<ParamField path="sample_rate" type="int" default="None">
  Audio sample rate in Hz. When `None`, uses the pipeline's configured sample rate.
</ParamField>

<ParamField path="params" type="InputParams" default="None">
  Configuration parameters. See [NvidiaSTTService InputParams](#nvidiasttservice-inputparams) below.
</ParamField>

<ParamField path="use_ssl" type="bool" default="True">
  Whether to use SSL for the gRPC connection.
</ParamField>

#### NvidiaSTTService InputParams

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `language` | `Language` | `Language.EN_US` | Target language for transcription. |

### NvidiaSegmentedSTTService

Batch/segmented transcription using NVIDIA Riva's Canary models. Processes complete audio segments after VAD detects speech boundaries.

<ParamField path="api_key" type="str" required>
  NVIDIA API key for authentication.
</ParamField>

<ParamField path="server" type="str" default="grpc.nvcf.nvidia.com:443">
  NVIDIA Riva server address.
</ParamField>

<ParamField path="model_function_map" type="Mapping[str, str]" default='{"function_id": "ee8dc628-76de-4acc-8595-1836e7e857bd", "model_name": "canary-1b-asr"}'>
  Mapping containing `function_id` and `model_name` for the ASR model.
</ParamField>

<ParamField path="sample_rate" type="int" default="None">
  Audio sample rate in Hz. When `None`, uses the pipeline's configured sample rate.
</ParamField>

<ParamField path="params" type="InputParams" default="None">
  Configuration parameters. See [NvidiaSegmentedSTTService InputParams](#nvidasegmentedsttservice-inputparams) below.
</ParamField>

<ParamField path="use_ssl" type="bool" default="True">
  Whether to use SSL for the gRPC connection.
</ParamField>

#### NvidiaSegmentedSTTService InputParams

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `language` | `Language` | `Language.EN_US` | Target language for transcription. |
| `profanity_filter` | `bool` | `False` | Whether to filter profanity from results. |
| `automatic_punctuation` | `bool` | `True` | Whether to add automatic punctuation. |
| `verbatim_transcripts` | `bool` | `False` | Whether to return verbatim transcripts. |
| `boosted_lm_words` | `list[str]` | `None` | List of words to boost in the language model. |
| `boosted_lm_score` | `float` | `4.0` | Score boost for specified words. |

## Usage

### Streaming with Parakeet

```python
from pipecat.services.nvidia import NvidiaSTTService

stt = NvidiaSTTService(
    api_key=os.getenv("NVIDIA_API_KEY"),
)
```

### Segmented with Canary

```python
from pipecat.services.nvidia import NvidiaSegmentedSTTService
from pipecat.transcriptions.language import Language

stt = NvidiaSegmentedSTTService(
    api_key=os.getenv("NVIDIA_API_KEY"),
    params=NvidiaSegmentedSTTService.InputParams(
        language=Language.ES,
        automatic_punctuation=True,
        boosted_lm_words=["Pipecat", "NVIDIA"],
        boosted_lm_score=6.0,
    ),
)
```

## Notes

- **Model cannot be changed after initialization**: Use the `model_function_map` parameter in the constructor to specify the model and function ID.
- **Streaming vs segmented**: `NvidiaSTTService` provides real-time interim and final results through continuous streaming. `NvidiaSegmentedSTTService` processes complete audio segments for higher accuracy.
- **Language support**: Supports Arabic, English (US/GB), French, German, Hindi, Italian, Japanese, Korean, Portuguese (BR), Russian, and Spanish (ES/US).
- **Word boosting**: Use `boosted_lm_words` and `boosted_lm_score` in the segmented service to improve recognition of domain-specific terms.

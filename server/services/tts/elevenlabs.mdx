---
title: "ElevenLabs"
description: "Text-to-speech service using ElevenLabs' streaming API with word-level timing"
---

## Overview

ElevenLabs provides high-quality text-to-speech synthesis with two service implementations:

- **`ElevenLabsTTSService`** (WebSocket) — Real-time streaming with word-level timestamps, audio context management, and interruption handling. Recommended for interactive applications.
- **`ElevenLabsHttpTTSService`** (HTTP) — Simpler batch-style synthesis. Suitable for non-interactive use cases or when WebSocket connections are not possible.

<CardGroup cols={2}>
  <Card
    title="ElevenLabs TTS API Reference"
    icon="code"
    href="https://reference-server.pipecat.ai/en/latest/api/pipecat.services.elevenlabs.tts.html"
  >
    Complete API reference for all parameters and methods
  </Card>
  <Card
    title="Example Implementation"
    icon="play"
    href="https://github.com/pipecat-ai/pipecat/blob/main/examples/foundational/07d-interruptible-elevenlabs.py"
  >
    Complete example with WebSocket streaming
  </Card>
  <Card
    title="ElevenLabs Documentation"
    icon="book"
    href="https://elevenlabs.io/docs/api-reference/text-to-speech/v-1-text-to-speech-voice-id-multi-stream-input"
  >
    Official ElevenLabs TTS API documentation
  </Card>
  <Card
    title="Voice Library"
    icon="microphone"
    href="https://elevenlabs.io/voice-library"
  >
    Browse and clone voices from the community
  </Card>
</CardGroup>

## Installation

```bash
pip install "pipecat-ai[elevenlabs]"
```

## Prerequisites

1. **ElevenLabs Account**: Sign up at [ElevenLabs](https://elevenlabs.io/app/sign-up)
2. **API Key**: Generate an API key from your account dashboard
3. **Voice Selection**: Choose voice IDs from the [voice library](https://elevenlabs.io/voice-library)

Set the following environment variable:

```bash
export ELEVENLABS_API_KEY=your_api_key
```

## Configuration

### ElevenLabsTTSService

<ParamField path="api_key" type="str" required>
  ElevenLabs API key.
</ParamField>

<ParamField path="voice_id" type="str" required>
  Voice ID from the [voice library](https://elevenlabs.io/voice-library).
</ParamField>

<ParamField path="model" type="str" default="eleven_turbo_v2_5">
  ElevenLabs model ID. Use a `multilingual` model variant (e.g.
  `eleven_multilingual_v2`) if you need non-English language support.
</ParamField>

<ParamField path="url" type="str" default="wss://api.elevenlabs.io">
  WebSocket endpoint URL. Override for custom or proxied deployments.
</ParamField>

<ParamField path="sample_rate" type="int" default="None">
  Output audio sample rate in Hz. When `None`, uses the pipeline's configured
  sample rate.
</ParamField>

<ParamField path="aggregate_sentences" type="bool" default="True">
  Buffer text until sentence boundaries before sending to ElevenLabs. Produces
  more natural-sounding speech at the cost of a small latency increase (~15ms)
  for the first word of each sentence.
</ParamField>

<ParamField path="params" type="InputParams" default="None">
  Runtime-configurable voice and generation settings. See
  [InputParams](#inputparams) below.
</ParamField>

### ElevenLabsHttpTTSService

The HTTP service accepts the same parameters as the WebSocket service, with these differences:

<ParamField path="aiohttp_session" type="aiohttp.ClientSession" required>
  An aiohttp session for HTTP requests. You must create and manage this
  yourself.
</ParamField>

<ParamField path="base_url" type="str" default="https://api.elevenlabs.io">
  HTTP API base URL (instead of `url` for WebSocket).
</ParamField>

The HTTP InputParams also includes:

<ParamField path="optimize_streaming_latency" type="int" default="None">
  Latency optimization level (0–4). Higher values reduce latency at the cost of
  quality.
</ParamField>

### InputParams

Voice and generation settings that can be set at initialization via the `params` constructor argument, or changed at runtime via [`UpdateSettingsFrame`](/server/utilities/frame-processor-events#updatesettingsframe).

| Parameter                  | Type       | Default | Description                                                                                       |
| -------------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------------- |
| `language`                 | `Language` | `None`  | Language code. Only effective with multilingual models.                                           |
| `stability`                | `float`    | `None`  | Voice consistency (0.0–1.0). Lower values are more expressive, higher values are more consistent. |
| `similarity_boost`         | `float`    | `None`  | Voice clarity and similarity to the original (0.0–1.0).                                           |
| `style`                    | `float`    | `None`  | Style exaggeration (0.0–1.0). Higher values amplify the voice's style.                            |
| `use_speaker_boost`        | `bool`     | `None`  | Enhance clarity and target speaker similarity.                                                    |
| `speed`                    | `float`    | `None`  | Speech rate. WebSocket: 0.7–1.2. HTTP: 0.25–4.0.                                                  |
| `auto_mode`                | `bool`     | `True`  | Automatic optimization mode. WebSocket only.                                                      |
| `enable_ssml_parsing`      | `bool`     | `None`  | Parse SSML tags in input text. WebSocket only.                                                    |
| `apply_text_normalization` | `Literal`  | `None`  | Text normalization: `"auto"`, `"on"`, or `"off"`.                                                 |

<Note>
  `None` values use the ElevenLabs API defaults. See [ElevenLabs voice
  settings](https://elevenlabs.io/docs/api-reference/text-to-speech/v-1-text-to-speech-voice-id-multi-stream-input)
  for details on how these parameters interact.
</Note>

## Usage

### Basic Setup

```python
from pipecat.services.elevenlabs import ElevenLabsTTSService

tts = ElevenLabsTTSService(
    api_key=os.getenv("ELEVENLABS_API_KEY"),
    voice_id="21m00Tcm4TlvDq8ikWAM",  # Rachel
)
```

### With Voice Customization

```python
tts = ElevenLabsTTSService(
    api_key=os.getenv("ELEVENLABS_API_KEY"),
    voice_id="21m00Tcm4TlvDq8ikWAM",
    model="eleven_multilingual_v2",
    params=ElevenLabsTTSService.InputParams(
        language=Language.ES,
        stability=0.7,
        similarity_boost=0.8,
        speed=1.1,
    ),
)
```

### Updating Settings at Runtime

Voice settings can be changed mid-conversation using `UpdateSettingsFrame`:

```python
from pipecat.frames.frames import UpdateSettingsFrame

await task.queue_frame(
    UpdateSettingsFrame(
        settings={
            "tts": {
                "stability": 0.3,
                "speed": 1.1,
            }
        }
    )
)
```

### HTTP Service

```python
import aiohttp
from pipecat.services.elevenlabs import ElevenLabsHttpTTSService

async with aiohttp.ClientSession() as session:
    tts = ElevenLabsHttpTTSService(
        api_key=os.getenv("ELEVENLABS_API_KEY"),
        voice_id="21m00Tcm4TlvDq8ikWAM",
        aiohttp_session=session,
    )
```

## Notes

- **Multilingual models required for `language`**: Setting `language` with a non-multilingual model (e.g. `eleven_turbo_v2_5`) has no effect. Use `eleven_multilingual_v2` or similar.
- **WebSocket vs HTTP**: The WebSocket service supports word-level timestamps and interruption handling, making it significantly better for interactive conversations. The HTTP service is simpler but lacks these features.
- **Sentence aggregation**: Enabled by default. Buffering until sentence boundaries produces more natural speech with minimal latency impact. Disable with `aggregate_sentences=False` if you need word-by-word streaming.

## Event Handlers

ElevenLabs TTS supports the standard [service connection events](/server/utilities/service-events):

| Event                 | Description                            |
| --------------------- | -------------------------------------- |
| `on_connected`        | Connected to ElevenLabs WebSocket      |
| `on_disconnected`     | Disconnected from ElevenLabs WebSocket |
| `on_connection_error` | WebSocket connection error occurred    |

```python
@tts.event_handler("on_connected")
async def on_connected(service):
    print("Connected to ElevenLabs")
```
